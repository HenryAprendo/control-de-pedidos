"use strict";(self.webpackChunkcontrol_de_pedidos=self.webpackChunkcontrol_de_pedidos||[]).push([[234],{4234:(S,g,a)=>{a.r(g),a.d(g,{routes:()=>U});var l=a(72),t=a(5849);let h=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-home-product"]],standalone:!0,features:[t.jDz],decls:11,vars:0,consts:[[1,"mb-3"],[1,"h-full","flex","items-center","gap-x-5"],["routerLink","./list-product","routerLinkActive","bg-orange-500 text-white",1,"border","px-3","py-2","block","rounded"],["routerLink","./create-product","routerLinkActive","bg-orange-500 text-white",1,"border","px-3","py-2","block","rounded"],[1,"w-full"]],template:function(r,s){1&r&&(t.TgZ(0,"header",0)(1,"nav")(2,"ul",1)(3,"li")(4,"a",2),t._uU(5,"Lista de productos"),t.qZA()(),t.TgZ(6,"li")(7,"a",3),t._uU(8,"Agregar"),t.qZA()()()()(),t.TgZ(9,"main",4),t._UZ(10,"router-outlet"),t.qZA())},dependencies:[l.lC,l.Bz,l.rH,l.Od]})}return i})();var o=a(95);const f=[{title:"empanada#1",urlImage:"./assets/images/empanada.png"},{title:"empanada#2",urlImage:"./assets/images/empanada_2.png"},{title:"empanada#3",urlImage:"./assets/images/empanada_3.png"},{title:"carima\xf1ola#1",urlImage:"./assets/images/carimanola.png"},{title:"carima\xf1ola#2",urlImage:"./assets/images/carimanola_2.png"},{title:"carima\xf1ola#3",urlImage:"./assets/images/carimanola_3.png"},{title:"papa_rellena#1",urlImage:"./../../../assets/images/papa_rellena.png"},{title:"papa_rellena#2",urlImage:"./../../../assets/images/papa_rellena_2.png"},{title:"arepa",urlImage:"./../../../assets/images/arepa.png"},{title:"arepa_rellena",urlImage:"./../../../assets/images/arepa_rellena.png"}];var u=a(6814),v=a(5827);let x=(()=>{class i{constructor(){}saveListArticle(e){localStorage.setItem("listArticle",JSON.stringify(e))}getListArticle(){const e=localStorage.getItem("listArticle");return null!==e?JSON.parse(e):[]}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var b=a(5619),p=a(2096);let m=(()=>{class i{constructor(){this.router=(0,t.f3M)(l.F0),this.storeProduct=(0,t.f3M)(x),this.listArticle=[],this.articles$=new b.X(this.listArticle),this.retrieveArticles$=this.articles$.asObservable(),this.listArticle=this.storeProduct.getListArticle(),this.articles$.next(this.listArticle)}addProduct(e){this.listArticle.push({...e}),this.storeProduct.saveListArticle([...this.listArticle]),this.router.navigate(["products/list-product"])}findAll(){return this.retrieveArticles$}findOne(e){const r=this.findIndex(e);if(null!==r){const n={...this.listArticle[r]};return(0,p.of)(n)}return(0,p.of)(null)}update(e,r){let s={};this.findOne(e).subscribe(n=>{if(null===n)console.log("El producto no existe");else{s={...n,...r};const d=this.findIndex(e);null!==d&&(this.listArticle[d]={...s},this.storeProduct.saveListArticle([...this.listArticle]),this.router.navigate(["./"]))}})}delete(e){const r=this.findIndex(e);null!==r&&(this.listArticle.splice(r,1),this.storeProduct.saveListArticle([...this.listArticle]),this.articles$.next(this.listArticle))}findIndex(e){let r=this.listArticle.findIndex(s=>s.id===e);return r>=0?r:null}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function A(i,c){if(1&i&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&i){const e=c.$implicit;t.Q6J("value",e.urlImage),t.xp6(1),t.Oqu(e.title)}}let Z=(()=>{class i{constructor(){this.router=(0,t.f3M)(l.F0),this.productService=(0,t.f3M)(m),this.uniqueId=(0,t.f3M)(v.W),this.fb=(0,t.f3M)(o.qu),this.productImages=f.slice(),this.buildForm()}saveNewProduct(){if(this.productForm.valid){let e={id:this.uniqueId.newProductId(),name:this.nameField?.value,description:this.descriptionField?.value,price:this.priceField?.value,image:this.imageField?.value,isSelected:!1,amount:0};this.productService.addProduct(e)}else this.productForm.markAllAsTouched()}buildForm(){this.productForm=this.fb.group({name:["",[o.kI.required]],description:["",[o.kI.required]],price:[0,[o.kI.required]],image:[""]})}get nameField(){return this.productForm.get("name")}get descriptionField(){return this.productForm.get("description")}get priceField(){return this.productForm.get("price")}get imageField(){return this.productForm.get("image")}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-create-product"]],standalone:!0,features:[t.jDz],decls:24,vars:3,consts:[[1,"border-slate-950","border","px-20","py-10","rounded","mt-10"],[1,"text-2xl","mb-5"],[1,"space-y-4",3,"formGroup","ngSubmit"],[1,"flex","flex-col"],["for","name",1,"text-sm","font-bold"],["type","text","id","name","formControlName","name",1,"border","px-2","py-2"],["for","description",1,"text-sm","font-bold"],["type","text","id","description","formControlName","description",1,"border","px-2","py-2"],["for","price",1,"text-sm","font-bold"],["type","number","id","price","formControlName","price",1,"border","px-2","py-2"],["for","photo",1,"text-sm","font-bold"],["name","photo","id","photo","formControlName","image",1,"border","px-2","py-2"],["type","submit",1,"px-2","py-3","w-1/3","uppercase","rounded-sm","font-medium","hover:cursor-pointer",3,"disabled","ngClass"],[3,"value"]],template:function(r,s){1&r&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Crear un nuevo producto"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return s.saveNewProduct()}),t.TgZ(4,"div",3)(5,"label",4),t._uU(6,"Nombre"),t.qZA(),t._UZ(7,"input",5),t.qZA(),t.TgZ(8,"div",3)(9,"label",6),t._uU(10,"Descripci\xf3n"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"div",3)(13,"label",8),t._uU(14,"Precio"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"div",3)(17,"label",10),t._uU(18,"Selecciona la imagen"),t.qZA(),t.TgZ(19,"select",11),t.SjG(20,A,2,2,"option",13,t.ikw),t.qZA()(),t.TgZ(22,"button",12),t._uU(23," Crear "),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("formGroup",s.productForm),t.xp6(17),t.wJu(s.productImages),t.xp6(2),t.Q6J("disabled",s.productForm.invalid)("ngClass",s.productForm.invalid?"bg-slate-400 text-red-300":"bg-slate-800 text-red-500 hover:bg-slate-900 active:bg-slate-950"))},dependencies:[u.ez,u.mk,o.UX,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.EJ,o.JJ,o.JL,o.sg,o.u]})}return i})();var _=a(547);const F=(i,c)=>c.id,C=i=>["../edit-product",i];function T(i,c){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"ul")(2,"li"),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"li",3),t._uU(5),t.qZA(),t.TgZ(6,"li",4),t._uU(7),t.ALo(8,"currency"),t.qZA()(),t.TgZ(9,"div",5)(10,"div",6)(11,"button",7),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.addToMenu(n))}),t._uU(12,"Agregar al men\xfa"),t.qZA(),t.TgZ(13,"button",7),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.removeFromMenu(n))}),t._uU(14,"Quitar del men\xfa"),t.qZA()(),t.TgZ(15,"div",8)(16,"button",9),t.NdJ("click",function(){const n=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.removeProduct(n.id))}),t._uU(17,"Eliminar"),t.qZA(),t.TgZ(18,"a",10),t._uU(19,"Actualizar"),t.qZA()()()()}if(2&i){const e=c.$implicit;t.xp6(3),t.Q6J("src",e.image,t.LSH)("alt",e.name),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.xi3(8,5,e.price,"COP")),t.xp6(11),t.Q6J("routerLink",t.VKq(8,C,e.id))}}function y(i,c){1&i&&(t.TgZ(0,"p"),t._uU(1,"No hay productos disponibles"),t.qZA())}let q=(()=>{class i{constructor(){this.menuService=(0,t.f3M)(_.h),this.productService=(0,t.f3M)(m),this.products=[]}ngOnInit(){this.productService.findAll().subscribe(e=>{this.products=e})}removeProduct(e){this.productService.delete(e)}addToMenu(e){this.menuService.save(e)}removeFromMenu(e){this.menuService.remove(e)}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-list-product"]],standalone:!0,features:[t.jDz],decls:4,vars:1,consts:[[1,"grid","grid-cols-3","gap-6"],[1,"border","p-3","rounded","shadow-md","flex","justify-between"],[1,"w-20",3,"src","alt"],[1,"text-base","font-medium","text-indigo-600","italic"],[1,"text-sm","font-bold"],[1,"flex","flex-col","justify-between","text-xs","font-semibold"],[1,"flex","flex-col","gap-y-3","items-end"],[1,"px-2","py-1","border","border-indigo-400","text-indigo-400","hover:text-indigo-600","active:text-indigo-700","hover:bg-pink-100",3,"click"],[1,"flex","gap-x-3","items-center"],[1,"text-red-500","uppercase","hover:text-red-700","hover:cursor-pointer",3,"click"],[1,"text-green-700","uppercase","hover:text-green-800","hover:cursor-pointer",3,"routerLink"],["class","border p-3 rounded shadow-md flex justify-between"]],template:function(r,s){1&r&&(t.TgZ(0,"div",0),t.SjG(1,T,20,10,"div",11,F,!1,y,2,0),t.qZA()),2&r&&(t.xp6(1),t.wJu(s.products))},dependencies:[u.ez,u.H9,l.rH]})}return i})();var I=a(4664);function P(i,c){if(1&i&&(t.TgZ(0,"option",13),t._uU(1),t.qZA()),2&i){const e=c.$implicit;t.Q6J("value",e.urlImage),t.xp6(1),t.Oqu(e.title)}}const U=[{path:"",component:h,children:[{path:"",redirectTo:"list-product",pathMatch:"full"},{path:"list-product",component:q},{path:"create-product",component:Z},{path:"edit-product/:id",component:(()=>{class i{constructor(){this.route=(0,t.f3M)(l.gz),this.productService=(0,t.f3M)(m),this.fb=(0,t.f3M)(o.qu),this.productImages=f.slice(),this.productId=(0,t.tdS)(-1),this.buildForm()}ngOnInit(){this.route.paramMap.pipe((0,I.w)(e=>{let r=e.get("id");return r?(this.productId.set(Number(r)),this.productService.findOne(Number(r))):(0,p.of)(null)})).subscribe(e=>{e&&this.editForm.patchValue(e)})}updateProduct(){if(this.editForm.valid){const e=this.productId();this.productService.update(e,{id:e,name:this.nameField?.value,description:this.descriptionField?.value,price:this.priceField?.value,image:this.imageField?.value,isSelected:!1})}else this.editForm.markAllAsTouched()}buildForm(){this.editForm=this.fb.group({name:["",[o.kI.required]],description:["",[o.kI.required]],price:[0,[o.kI.required]],image:[""]})}get nameField(){return this.editForm.get("name")}get descriptionField(){return this.editForm.get("description")}get priceField(){return this.editForm.get("price")}get imageField(){return this.editForm.get("image")}static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-edit-product"]],standalone:!0,features:[t.jDz],decls:24,vars:3,consts:[[1,"border-slate-950","border","px-20","py-10","rounded","mt-10"],[1,"text-2xl","mb-5"],[1,"space-y-4",3,"formGroup","ngSubmit"],[1,"flex","flex-col"],["for","name",1,"text-sm","font-bold"],["type","text","id","name","formControlName","name",1,"border","px-2","py-2"],["for","description",1,"text-sm","font-bold"],["type","text","id","description","formControlName","description",1,"border","px-2","py-2"],["for","price",1,"text-sm","font-bold"],["type","number","id","price","formControlName","price",1,"border","px-2","py-2"],["for","photo",1,"text-sm","font-bold"],["name","photo","id","photo","formControlName","image",1,"border","px-2","py-2"],["type","submit",1,"px-2","py-3","w-1/3","uppercase","rounded-sm","font-medium","hover:cursor-pointer",3,"disabled","ngClass"],[3,"value"]],template:function(r,s){1&r&&(t.TgZ(0,"div",0)(1,"h1",1),t._uU(2,"Actualizar producto"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return s.updateProduct()}),t.TgZ(4,"div",3)(5,"label",4),t._uU(6,"Nombre"),t.qZA(),t._UZ(7,"input",5),t.qZA(),t.TgZ(8,"div",3)(9,"label",6),t._uU(10,"Descripci\xf3n"),t.qZA(),t._UZ(11,"input",7),t.qZA(),t.TgZ(12,"div",3)(13,"label",8),t._uU(14,"Precio"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"div",3)(17,"label",10),t._uU(18,"Selecciona la imagen"),t.qZA(),t.TgZ(19,"select",11),t.SjG(20,P,2,2,"option",13,t.ikw),t.qZA()(),t.TgZ(22,"button",12),t._uU(23," Actualizar "),t.qZA()()()),2&r&&(t.xp6(3),t.Q6J("formGroup",s.editForm),t.xp6(17),t.wJu(s.productImages),t.xp6(2),t.Q6J("disabled",s.editForm.invalid)("ngClass",s.editForm.invalid?"bg-slate-400 text-red-300":"bg-slate-800 text-red-500 hover:bg-slate-900 active:bg-slate-950"))},dependencies:[u.ez,u.mk,o.UX,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.EJ,o.JJ,o.JL,o.sg,o.u]})}return i})()}]}]}}]);